# Q&A API Service

**Q&A API Service** ‚Äî —ç—Ç–æ REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
–°–µ—Ä–≤–∏—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–≤–µ—Ç—ã, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **FastAPI** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è REST API
- **SQLAlchemy** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
- **Alembic** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL** ‚Äî —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Docker & Docker Compose** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Pytest** ‚Äî –º–æ–¥—É–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Pydantic** ‚Äî —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ app/
‚îÇ  ‚îú‚îÄ main.py              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ  ‚îú‚îÄ database.py          # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Å—Å–∏–π
‚îÇ  ‚îú‚îÄ models/              # ORM-–º–æ–¥–µ–ª–∏ (Question, Answer)
‚îÇ  ‚îú‚îÄ schemas/             # Pydantic-—Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ  ‚îú‚îÄ crud/                # CRUD-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ  ‚îú‚îÄ api/                 # –†–æ—É—Ç–µ—Ä—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ  ‚îî‚îÄ services/            # –õ–æ–≥–∏–∫–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚îú‚îÄ alembic/                # –ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic
‚îú‚îÄ tests/                  # –¢–µ—Å—Ç—ã pytest
‚îú‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ Dockerfile              # –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üìù –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Question
| –ü–æ–ª–µ       | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                       |
|------------|----------|--------------------------------|
| id         | int      | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä       |
| text       | str      | –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞                  |
| created_at | datetime | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è          |

### Answer
| –ü–æ–ª–µ        | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                               |
|-------------|----------|----------------------------------------|
| id          | int      | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä               |
| question_id | int      | ID —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞                  |
| user_id     | str      | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (uuid)      |
| text        | str      | –¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞                            |
| created_at  | datetime | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è                   |

---

## üöÄ API Endpoints

### –í–æ–ø—Ä–æ—Å—ã (Questions)
| –ú–µ—Ç–æ–¥ | URL               | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|-------|------------------|--------------------------------|
| GET   | /questions/       | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤  |
| POST  | /questions/       | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å           |
| GET   | /questions/{id}   | –ü–æ–ª—É—á–∏—Ç—å –≤–æ–ø—Ä–æ—Å –∏ –≤—Å–µ –æ—Ç–≤–µ—Ç—ã   |
| DELETE| /questions/{id}   | –£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å —Å –∫–∞—Å–∫–∞–¥–æ–º      |

### –û—Ç–≤–µ—Ç—ã (Answers)
| –ú–µ—Ç–æ–¥ | URL                        | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|-------|---------------------------|--------------------------------|
| POST  | /questions/{id}/answers/  | –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –∫ –≤–æ–ø—Ä–æ—Å—É       |
| GET   | /answers/{id}             | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç      |
| DELETE| /answers/{id}             | –£–¥–∞–ª–∏—Ç—å –æ—Ç–≤–µ—Ç                  |

---

## ‚öôÔ∏è –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

- –û—Ç–≤–µ—Ç –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞.
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å.
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (–∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ).
- –í–∞–ª–∏–¥–∞—Ü–∏—è: —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/<username>/qa-api-service.git
cd qa-api-service
```

2. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:

```bash
docker-compose up --build
```

3. API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:  
```
http://localhost:8000
```

4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:  
```
http://localhost:8000/docs
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
docker-compose run web pytest -v
```

> –í —Ç–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏–±–æ –ª–æ–∫–∞–ª—å–Ω–∞—è PostgreSQL, –ª–∏–±–æ SQLite in-memory –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

## üîß –ú–∏–≥—Ä–∞—Ü–∏–∏

–°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (—Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É migrations –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞):

```bash
docker-compose exec app alembic revision --autogenerate -m "Initial migration"
docker-compose exec app alembic upgrade head
```
